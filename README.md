# Almarchivos-22-10-2021

#Base de datos
CREATE DATABASE Almarchivos2  

GO

USE Almarchivos2;

GO 

CREATE TABLE dbo.Customer(
	CustomerId INT IDENTITY(1,1) NOT NULL,
	CustomerName NVARCHAR(40) NOT NULL,
	phone NVARCHAR(20) NULL,
	CONSTRAINT [PK_CustomerId] PRIMARY KEY CLUSTERED 
(
    CustomerId ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON)
) ON [PRIMARY]

GO

CREATE TABLE dbo.Orders(
	OrderId INT IDENTITY(1,1) NOT NULL,
	OrderNumber NVARCHAR(10) NULL,
	CustomerId INT NOT NULL,
	OrderDate dateTime NOT NULL,
	TotalAmount Decimal(12,2) NOT NULL,

	FOREIGN KEY (CustomerId) REFERENCES dbo.Customer(CustomerId),
	CONSTRAINT [PK_OrderId] PRIMARY KEY CLUSTERED 
(
    OrderId ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON)
) ON [PRIMARY]

GO 

CREATE TABLE dbo.Supplier(
	SupplierId INT IDENTITY(1,1) NOT NULL,
	CompanyName NVARCHAR(40) NOT NULL,
	Phone NVARCHAR(20) NULL,

	CONSTRAINT [PK_SupplierId] PRIMARY KEY CLUSTERED 
(
    SupplierId ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON)
) ON [PRIMARY]

GO

CREATE TABLE dbo.Product(
	ProductId INT IDENTITY(1,1) NOT NULL,
	ProductName NVARCHAR(50) NOT NULL,
	SupplierId int Not NULL,
	UnitPrice decimal(12, 2) NULL,
	IsDiscontinued bit NOT NULL,
	
	FOREIGN KEY (SupplierId) REFERENCES dbo.Customer(CustomerId),
	CONSTRAINT [PK_ProductId] PRIMARY KEY CLUSTERED 
(
    ProductId ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON)
) ON [PRIMARY]

GO

CREATE TABLE dbo.OrderItem(
	OrderItem INT IDENTITY(1,1) NOT NULL,
	OrderId INT NOT NULL,
	ProductId INT NOT NULL,
	UnitProce NVARCHAR(50) NOT NULL,
	Quantity int Not NULL,

	FOREIGN KEY (OrderId) REFERENCES dbo.Customer(CustomerId),
	FOREIGN KEY (ProductId) REFERENCES dbo.Customer(CustomerId),
	CONSTRAINT [PK_OrderItem] PRIMARY KEY CLUSTERED 
(
    OrderItem ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON)
) ON [PRIMARY]
